<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=0.7maximum-scale=0.8,user-scalable=no">
    <title>üÖ∞Ô∏è</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="appInterface">
        <div class="main-container">
            <div class="search-filters">
                <div class="search-box">
                    <input id="searchInput" placeholder="Buscar canales, ID (ej: #123)" autofocus>
                </div>
                <div class="filter-buttons">
                    <button class="filter-button filter-button--favorites" id="filterFavorites">‚òÖ</button>
                    <button class="filter-button" id="filterDAZN">DAZN</button>
                    <button class="filter-button" id="filterMovistar">MOVISTAR+</button>
                    <button class="filter-button" id="filterEurosport">‚òÖEUROSPORT</button>
                    <button class="filter-button filter-button--clear filter-button--active" id="clearEmojiFilters">x</button>
                </div>
                <div class="filter-buttons" id="sportFiltersContainer" style="margin-top:.6rem">
                    <button class="filter-button sport-filter-button" data-sport-key="futbol" id="filterFutbol">‚öΩ</button>
                    <button class="filter-button sport-filter-button" data-sport-key="baloncesto" id="filterBaloncesto">üèÄ</button>
                    <button class="filter-button sport-filter-button" data-sport-key="tenis" id="filterTenis">üéæ</button>
                    <button class="filter-button sport-filter-button" data-sport-key="boxeo" id="filterBoxeo">ü•ä</button>
                    <button class="filter-button sport-filter-button" data-sport-key="ciclismo" id="filterCiclismo">üö¥</button>
                    <button class="filter-button sport-filter-button" data-sport-key="motorsport" id="filterMotorsport">üèÅ</button>
                    <button class="filter-button sport-filter-button" data-sport-key="f1" id="filterF1">üèéÔ∏è</button>
                </div>
            </div>
            <div id="updateNotification" class="update-notification"></div>
            <div class="channels-grid" id="channelsGrid"></div>
        </div>
    </div>
    
    <div class="modal" id="settingsModal">
        <div class="modal__content">
            <h3 class="modal__title">‚öôÔ∏è Ajustes</h3>
            <div class="settings-section">
                <h4 class="settings-section__title">üì∫ Modo TV</h4>
                <div class="settings-item">
                    <div class="settings-item__info">
                        <span class="settings-icon">üñ•Ô∏è</span>
                        <div>
                            <span class="settings-label">Modo StreamTV</span>
                            <span class="settings-description">Interfaz simplificada para TV/Mandos.</span>
                        </div>
                    </div>
                    <label class="settings-switch">
                        <input type="checkbox" id="tvModeCheckbox">
                        <span class="settings-slider"></span>
                    </label>
                </div>
            </div>
            <div class="settings-section">
                <h4 class="settings-section__title">üé® Apariencia</h4>
                <div class="settings-item">
                    <div class="settings-item__info">
                        <span class="settings-icon">üåì</span>
                        <div>
                            <span class="settings-label">Modo oscuro</span>
                            <span class="settings-description">Cambia entre tema claro y oscuro</span>
                        </div>
                    </div>
                    <label class="settings-switch">
                        <input type="checkbox" id="darkModeCheckbox">
                        <span class="settings-slider"></span>
                    </label>
                </div>
                <div class="settings-item">
                    <div class="settings-item__info">
                        <span class="settings-icon">üé®</span>
                        <div>
                            <span class="settings-label">Color principal</span>
                            <span class="settings-description">Elige un color para la interfaz</span>
                        </div>
                    </div>
                    <div class="color-picker">
                        <button class="color-option" data-color="#2563eb" style="background:#2563eb"></button>
                        <button class="color-option" data-color="#dc2626" style="background:#dc2626"></button>
                        <button class="color-option" data-color="#16a34a" style="background:#16a34a"></button>
                        <button class="color-option" data-color="#9333ea" style="background:#9333ea"></button>
                    </div>
                </div>
            </div>
            <div class="settings-section">
                <h4 class="settings-section__title">üîß Datos</h4>
                <div class="settings-item">
                    <div class="settings-item__info">
                        <span class="settings-icon">üìÖ</span>
                        <div>
                            <span class="settings-label">Ocultar detalles de evento</span>
                            <span class="settings-description">Oculta fecha, hora y deporte de los grupos.</span>
                        </div>
                    </div>
                    <label class="settings-switch">
                        <input type="checkbox" id="hideEventDetailsCheckbox">
                        <span class="settings-slider"></span>
                    </label>
                </div>
                <div class="settings-item">
                    <div class="settings-item__info">
                        <span class="settings-icon">‚≠ê</span>
                        <div>
                            <span class="settings-label">Restablecer puntuaciones</span>
                            <span class="settings-description">Borra la puntuaci√≥n de estabilidad de todos los canales</span>
                        </div>
                    </div>
                    <button class="modal__btn" onclick="resetRatings()">Reiniciar</button>
                </div>
            </div>
            <div class="modal__actions">
                <button class="modal__btn modal__btn--primary" id="closeSettingsBtn">Cerrar</button>
            </div>
        </div>
    </div>
    
    <div class="copy-modal" id="copyModal">
        <div class="copy-modal-icon">üîó</div>
        <div class="copy-modal-text">Enlace AceStream a copiar:</div>
        <p id="copyUrlDisplayAceStream" class="copy-modal-url"></p>
        <button class="copy-modal-button" id="copyAceStreamBtn" data-format="acestream">Copiar AceStream</button>
        <button class="modal__btn modal__btn--cancel" id="cancelCopyBtn">Cancelar</button>
    </div>
    
    <div class="copy-message" id="copyMessage">URL copiada con √©xito!</div>
    
    <button class="floating-save-button" id="saveFavoritesButton" onclick="disableFavoriteMode()">‚úì</button>
    
    <div id="tvInterface" style="display: none;">
        <aside id="tvSidebar" style="background: #111111; color: #e0e0e0; padding: 1.5rem 1rem; position: fixed; left: 0; top: 0; width: 250px; height: 100vh; overflow-y: auto; border-right: 1px solid #383838; z-index: 100;">
            <div class="sidebar-logo" style="font-size: 1.8rem; font-weight: 800; color: white; margin-bottom: 2rem; padding-left: 10px;"> StreamTV </div>
            <div style="margin-bottom: 1rem; padding: 0 10px;">
                <input type="text" id="tvSearch" placeholder="Buscar canal..." style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #383838; background: #2d2d2d; color: #e0e0e0; box-sizing: border-box;" tabindex="0">
            </div>
            <nav>
                <ul style="list-style: none; padding: 0; margin: 0;">
                    <li style="margin-bottom: 0.5rem;">
                        <a href="#" class="tv-nav-link" data-filter="all" style="display: flex; align-items: center; padding: 10px; border-radius: 8px; color: #e0e0e0; text-decoration: none; font-weight: 600; transition: background-color 0.2s;" tabindex="0"><span style="margin-right: 10px; font-size: 1.2rem;">üì∫</span> Todos los Canales </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="#" class="tv-nav-link" data-filter="live" style="display: flex; align-items: center; padding: 10px; border-radius: 8px; color: #e0e0e0; text-decoration: none; font-weight: 600; transition: background-color 0.2s;" tabindex="0"><span style="margin-right: 10px; font-size: 1.2rem;">üî¥</span> En Vivo Ahora </a>
                    </li>
                    <li style="margin-bottom: 0.5rem;">
                        <a href="#" class="tv-nav-link" data-filter="favorites" style="display: flex; align-items: center; padding: 10px; border-radius: 8px; color: #e0e0e0; text-decoration: none; font-weight: 600; transition: background-color 0.2s;" tabindex="0"><span style="margin-right: 10px; font-size: 1.2rem;">‚≠ê</span> Mis Favoritos </a>
                    </li>
                    <li style="margin-top: 2rem;">
                        <button id="normalModeBtn" style="width: 100%; padding: 10px; background: #c0392b; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: 600; display: block;" tabindex="0"> Salir (Modo Normal) </button>
                    </li>
                </ul>
            </nav>
        </aside>
        <main id="tvMainContent" style="margin-left: 250px; padding: 1.5rem 2.5rem; min-height: 100vh; background: #151515;">
            <h1 style="color: white; margin-top: 0;">Explorar Canales</h1>
            <div class="tv-channels-grid" id="tvChannelsGrid"></div>
        </main>
    </div>
    
    <div id="tvPlayerModal" class="tv-modal-backdrop">
        <div class="tv-player-container">
            <div class="tv-player-header">
                <h2 id="playerChannelName"></h2>
                <button class="tv-close-btn" id="tvCloseBtn" tabindex="0"> ESC </button>
            </div>
            <div id="tvVideoPlayer" class="tv-video-mock"> ‚ñ∂Ô∏è Reproduciendo Contenido... </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
